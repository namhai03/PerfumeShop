@startuml Tạo chương trình khuyến mãi
title Tạo chương trình khuyến mãi (đơn giản, có LLM gợi ý)

actor Admin
participant Browser
participant Controller
participant PromotionModel
participant DB
participant LLM

Admin -> Browser: Mở trang khuyến mãi
Browser -> Controller: Yêu cầu danh sách khuyến mãi
Controller -> PromotionModel: Lấy danh sách
PromotionModel -> DB: Lấy dữ liệu
DB -> PromotionModel: Trả dữ liệu
PromotionModel -> Controller: Trả danh sách
Controller -> Browser: Hiển thị danh sách

Admin -> Browser: Nhấn "Tạo khuyến mãi"
Browser -> Controller: Yêu cầu form tạo khuyến mãi
Controller -> Browser: Trả về form

Admin -> Browser: Nhập thông tin, nhấn "Gợi ý"
Browser -> LLM: Gửi thông tin để gợi ý
LLM -> Browser: Trả về gợi ý chương trình khuyến mãi

Admin -> Browser: Chỉnh sửa, nhấn "Lưu"
Browser -> Controller: Gửi dữ liệu khuyến mãi

alt Dữ liệu hợp lệ
    Controller -> PromotionModel: Thêm khuyến mãi
    PromotionModel -> DB: Lưu khuyến mãi
    DB -> PromotionModel: OK
    PromotionModel -> Controller: OK
    Controller -> Browser: Thông báo thành công
else Dữ liệu lỗi
    Controller -> Browser: Thông báo lỗi
end

@enduml
